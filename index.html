<!doctype html>
<html>

<head>
<title>kosha</title>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

<style>
  html, body {
    font-family: 'RobotoDraft', sans-serif;
    background-color: #EEEEEE;
  }
  html core-toolbar,
  html /deep/ core-toolbar,
  html paper-fab,
  html /deep/ paper-fab {
    background-color: #F44336;
    color: #EEEEEE;
  }
  #refresh-button {
    position: fixed;
    bottom: 23px;
    right: 23px;
  }
</style>

<script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>

<link rel="import" href="bower_components/font-roboto/roboto.html">
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="bower_components/paper-fab/paper-fab.html">
<link rel="import" href="elements/kosha-grid/kosha-grid.html">
<link rel="import" href="elements/kosha-toolbar/kosha-toolbar.html">
</head>

<body fullbleed layout vertical unresolved>
<template id="kosha_body" is="auto-binding">
  <core-header-panel flex>
    <kosha-toolbar query="{{query}}"></kosha-toolbar>
    <kosha-grid id="restaurant_grid" url="/restaurants" filter="{{query}}"></kosha-grid>
    <!-- <kosha-grid url="/restaurants/dataset/example_1.json"></kosha-grid> -->
    <paper-fab id="refresh-button" z="4" icon="refresh" on-tap="{{refreshGrid}}"></paper-fab>
  </core-header-panel>
</template>
<script>
  var t = document.querySelector('#kosha_body');
  t.refreshGrid = function() {
    t.$.restaurant_grid.refresh();
  }
</script>
</body>

</html>
